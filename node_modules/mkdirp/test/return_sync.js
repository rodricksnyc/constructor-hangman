let mkdirp = require('../');
let path = require('path');
let fs = require('fs');
let test = require('tap').test;

test('return value', function (t) {
    t.plan(2);
    let x = Math.floor(Math.random() * Math.pow(16,4)).toString(16);
    let y = Math.floor(Math.random() * Math.pow(16,4)).toString(16);
    let z = Math.floor(Math.random() * Math.pow(16,4)).toString(16);

    let file = '/tmp/' + [x,y,z].join('/');

    // should return the first dir created.
    // By this point, it would be profoundly surprising if /tmp didn't
    // already exist, since every other test makes things in there.
    // Note that this will throw on failure, which will fail the test.
    let made = mkdirp.sync(file);
    t.equal(made, '/tmp/' + x);

    // making the same file again should have no effect.
    made = mkdirp.sync(file);
    t.equal(made, null);
});
